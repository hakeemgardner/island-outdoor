<!-- @format -->

<!doctype html>
<html class="light" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Shopping Cart - Jamaica Outdoors</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
      rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700&display=swap"
      rel="stylesheet" />

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <style>
      /**
 * CSS Variables & Theming
 *
 * @format
 */

      :root {
        --color-primary: #11d442;
        --color-primary-hover: #10c23d;
        --bg-light: #f6f8f6;
        --bg-dark: #102215;
        --bg-card-dark: #1a2e20;
        --bg-header-dark: #111813;
        --text-primary: #111813;
        --text-secondary: #61896b;
        --text-muted: #6b7280;
        --border-color: #e5e7eb;
        --border-dark: #1f2937;
        --white: #ffffff;
        --radius-sm: 0.25rem;
        --radius-md: 0.5rem;
        --radius-lg: 0.75rem;
        --radius-xl: 1rem;
        --radius-full: 9999px;
        --font-display: "Plus Jakarta Sans", sans-serif;
      }

      /* Dark Mode Variables */
      html.dark {
        --bg-body: var(--bg-dark);
        --bg-card: var(--bg-card-dark);
        --bg-header: var(--bg-header-dark);
        --bg-input: rgba(255, 255, 255, 0.05);
        --text-main: var(--white);
        --text-muted: #8ba391;
        --border-default: var(--border-dark);
        --border-input: #374151;
      }

      /* Light Mode Variables */
      html:not(.dark) {
        --bg-body: var(--bg-light);
        --bg-card: var(--white);
        --bg-header: var(--white);
        --bg-input: var(--bg-light);
        --text-main: var(--text-primary);
        --border-default: var(--border-color);
        --border-input: transparent;
      }

      /* Reset & Base */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-display);
        background-color: var(--bg-body);
        color: var(--text-main);
        line-height: 1.5;
        transition:
          background-color 0.3s ease,
          color 0.3s ease;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* Layout */
      .page-wrapper {
        position: relative;
        display: flex;
        min-height: 100vh;
        width: 100%;
        flex-direction: column;
        overflow-x: hidden;
      }

      /* Header */
      .site-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        white-space: nowrap;
        border-bottom: 1px solid var(--border-default);
        background-color: var(--bg-header);
        padding: 1rem 1.5rem;
        position: sticky;
        top: 0;
        z-index: 50;
        transition:
          background-color 0.3s ease,
          border-color 0.3s ease;
      }

      .logo-section {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .logo-icon {
        width: 2rem;
        height: 2rem;
        color: var(--color-primary);
        flex-shrink: 0;
      }

      .brand-name {
        font-size: 1.125rem;
        font-weight: 800;
        line-height: 1.25;
        letter-spacing: -0.025em;
        color: var(--text-main);
        cursor: pointer;
        transition: color 0.2s ease;
      }

      .brand-name:hover {
        color: var(--color-primary);
      }

      .main-nav {
        display: none;
        flex: 1;
        justify-content: center;
        gap: 2rem;
      }

      .nav-link {
        color: var(--text-main);
        font-size: 0.875rem;
        font-weight: 500;
        line-height: 1.5;
        text-decoration: none;
        transition: color 0.2s ease;
      }

      .nav-link:hover {
        color: var(--color-primary);
      }

      .nav-link.active {
        color: var(--color-primary);
        font-weight: 700;
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: none;
        cursor: pointer;
        font-family: inherit;
        font-weight: 700;
        transition: all 0.2s ease;
        text-decoration: none;
        background: none;
      }

      .btn-menu {
        padding: 0.5rem;
        color: var(--text-main);
        display: block;
      }

      .btn-login {
        display: none;
        height: 2.5rem;
        padding: 0 1.5rem;
        background-color: var(--color-primary);
        color: var(--text-primary);
        border-radius: var(--radius-md);
        font-size: 0.875rem;
        line-height: 1.5;
      }

      .btn-login:hover {
        background-color: var(--color-primary-hover);
      }

      /* Main Content */
      .layout-container {
        display: flex;
        height: 100%;
        flex-grow: 1;
        flex-direction: column;
      }

      .content-wrapper {
        padding: 2rem 1rem;
        display: flex;
        flex: 1;
        justify-content: center;
      }

      .layout-content {
        display: flex;
        flex-direction: column;
        width: 100%;
        max-width: 1200px;
        flex: 1;
      }

      /* Page Heading */
      .page-header {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        padding-bottom: 2rem;
        border-bottom: 1px solid var(--border-default);
        margin-bottom: 2rem;
      }

      .page-title {
        font-size: 1.875rem;
        font-weight: 900;
        line-height: 1.25;
        letter-spacing: -0.025em;
        color: var(--text-main);
      }

      .shipping-notice {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .shipping-notice .material-symbols-outlined {
        color: var(--color-primary);
        font-size: 1rem;
      }

      .shipping-text {
        color: var(--text-secondary);
        font-size: 1rem;
      }

      html.dark .shipping-text {
        color: var(--text-muted);
      }

      .shipping-text .highlight {
        font-weight: 700;
        color: var(--color-primary);
      }

      /* Grid Layout */
      .cart-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
        align-items: start;
      }

      /* Cart Items Column */
      .cart-items {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .column-headers {
        display: none;
        grid-template-columns: repeat(12, minmax(0, 1fr));
        gap: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid #f3f4f6;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      html.dark .column-headers {
        border-color: var(--border-dark);
      }

      .col-header-product {
        grid-column: span 6 / span 6;
      }
      .col-header-qty {
        grid-column: span 3 / span 3;
        text-align: center;
      }
      .col-header-price {
        grid-column: span 3 / span 3;
        text-align: right;
      }

      /* Cart Item Card */
      .cart-item {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        background-color: var(--bg-card);
        padding: 1rem;
        border-radius: var(--radius-xl);
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        border: 1px solid #f3f4f6;
        transition:
          background-color 0.3s ease,
          border-color 0.3s ease;
      }

      html.dark .cart-item {
        border-color: var(--border-dark);
      }

      /* Product Info Section */
      .product-info {
        width: 100%;
        display: flex;
        gap: 1rem;
        grid-column: span 6 / span 6;
      }

      .product-image {
        background-color: #f3f4f6;
        border-radius: var(--radius-lg);
        flex-shrink: 0;
        width: 6rem;
        height: 6rem;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
      }

      html.dark .product-image {
        background-color: #1f2937;
      }

      .product-details {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 0.25rem;
      }

      .product-name {
        font-size: 1rem;
        font-weight: 700;
        line-height: 1.25;
        color: var(--text-main);
      }

      .product-variant {
        color: var(--text-muted);
        font-size: 0.875rem;
      }

      .stock-badge {
        font-size: 0.75rem;
        font-weight: 600;
        padding: 0.125rem 0.5rem;
        border-radius: var(--radius-full);
        width: fit-content;
        margin-top: 0.25rem;
      }

      .stock-badge.in-stock {
        color: var(--color-primary);
        background-color: rgba(17, 212, 66, 0.1);
      }

      .stock-badge.low-stock {
        color: #f97316;
        background-color: rgba(249, 115, 22, 0.1);
      }

      /* Quantity Section */
      .quantity-section {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        grid-column: span 3 / span 3;
      }

      .mobile-label {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-muted);
      }

      .quantity-control {
        display: flex;
        align-items: center;
        border: 1px solid var(--border-default);
        border-radius: var(--radius-lg);
        overflow: hidden;
      }

      .qty-btn {
        width: 2rem;
        height: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: none;
        border: none;
        color: var(--text-muted);
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      .qty-btn:hover {
        background-color: #f3f4f6;
      }

      html.dark .qty-btn:hover {
        background-color: #374151;
      }

      .qty-input {
        width: 2.5rem;
        padding: 0;
        text-align: center;
        background: transparent;
        border: none;
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--text-main);
        outline: none;
        -moz-appearance: textfield;
      }

      .qty-input::-webkit-outer-spin-button,
      .qty-input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      /* Price Section */
      .price-section {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        grid-column: span 3 / span 3;
      }

      .price {
        font-size: 1.125rem;
        font-weight: 700;
        color: var(--text-main);
      }

      .btn-remove {
        color: #9ca3af;
        font-size: 0.875rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.25rem;
        transition: color 0.2s ease;
      }

      .btn-remove:hover {
        color: #ef4444;
      }

      .btn-remove .material-symbols-outlined {
        font-size: 0.875rem;
        transition: transform 0.2s ease;
      }

      .btn-remove:hover .material-symbols-outlined {
        transform: scale(1.1);
      }

      .remove-text {
        display: none;
      }

      /* Continue Shopping Link */
      .continue-shopping {
        margin-top: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        font-weight: 700;
        color: var(--text-muted);
        text-decoration: none;
        width: fit-content;
        transition: color 0.2s ease;
      }

      .continue-shopping:hover {
        color: var(--color-primary);
      }

      .continue-shopping .material-symbols-outlined {
        font-size: 1rem;
        transform: rotate(180deg);
      }

      /* Order Summary Sidebar */
      .order-summary {
        width: 100%;
        position: static;
      }

      .summary-card {
        background-color: var(--bg-card);
        border-radius: var(--radius-xl);
        padding: 1.5rem;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        border: 1px solid #f3f4f6;
        transition:
          background-color 0.3s ease,
          border-color 0.3s ease;
      }

      html.dark .summary-card {
        border-color: var(--border-dark);
      }

      .summary-title {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #f3f4f6;
        color: var(--text-main);
      }

      html.dark .summary-title {
        border-color: var(--border-dark);
      }

      .summary-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.875rem;
      }

      .summary-row span:first-child {
        color: var(--text-muted);
      }

      .summary-row span:last-child {
        font-weight: 700;
        color: var(--text-main);
      }

      .summary-row.italic span:last-child {
        font-weight: 400;
        font-style: italic;
        color: #9ca3af;
      }

      .summary-divider {
        margin: 1.5rem 0;
        padding: 1rem 0;
        border-top: 1px solid #f3f4f6;
        border-bottom: 1px solid #f3f4f6;
      }

      html.dark .summary-divider {
        border-color: var(--border-dark);
      }

      .total-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.125rem;
      }

      .total-row span:first-child {
        font-weight: 700;
      }

      .total-row .total-price {
        font-weight: 800;
        font-size: 1.5rem;
        color: var(--text-main);
      }

      /* Promo Code */
      .promo-row {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }

      .promo-input {
        flex: 1;
        background-color: var(--bg-input);
        border: 1px solid var(--border-input);
        border-radius: var(--radius-lg);
        padding: 0.625rem 1rem;
        font-size: 0.875rem;
        color: var(--text-main);
        outline: none;
        transition: border-color 0.2s ease;
      }

      .promo-input:focus {
        border-color: var(--color-primary);
      }

      .btn-apply {
        background-color: #111827;
        color: var(--white);
        font-size: 0.875rem;
        font-weight: 700;
        padding: 0.625rem 1rem;
        border-radius: var(--radius-lg);
        transition: opacity 0.2s ease;
      }

      html.dark .btn-apply {
        background-color: var(--white);
        color: #111827;
      }

      .btn-apply:hover {
        opacity: 0.9;
      }

      /* Checkout Button */
      .btn-checkout {
        width: 100%;
        background-color: var(--color-primary);
        color: var(--text-primary);
        font-size: 1.125rem;
        font-weight: 700;
        padding: 0.875rem;
        border-radius: var(--radius-lg);
        box-shadow: 0 4px 6px -1px rgba(17, 212, 66, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        transition: all 0.2s ease;
        border: none;
        cursor: pointer;
      }

      .btn-checkout:hover {
        background-color: var(--color-primary-hover);
        box-shadow: 0 10px 15px -3px rgba(17, 212, 66, 0.3);
      }

      .btn-checkout .material-symbols-outlined {
        transition: transform 0.2s ease;
      }

      .btn-checkout:hover .material-symbols-outlined {
        transform: translateX(4px);
      }

      /* Secure Badge */
      .secure-badge {
        margin-top: 1.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
      }

      .secure-row {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: #9ca3af;
      }

      .secure-row .material-symbols-outlined {
        font-size: 1.25rem;
      }

      .secure-row span:last-child {
        font-size: 0.75rem;
        font-weight: 500;
      }

      /* Empty Cart State */
      .empty-cart {
        text-align: center;
        padding: 3rem 1rem;
      }

      .empty-cart .material-symbols-outlined {
        font-size: 4rem;
        color: var(--text-muted);
        margin-bottom: 1rem;
      }

      .empty-cart h2 {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
        color: var(--text-main);
      }

      .empty-cart p {
        color: var(--text-muted);
        margin-bottom: 1.5rem;
      }

      /* Footer */
      .site-footer {
        border-top: 1px solid var(--border-default);
        background-color: var(--bg-header);
        padding: 2.5rem 1.5rem;
        transition:
          background-color 0.3s ease,
          border-color 0.3s ease;
      }

      .footer-content {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        gap: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
      }

      .footer-text {
        color: var(--text-muted);
        font-size: 0.875rem;
      }

      .footer-links {
        display: flex;
        gap: 1.5rem;
      }

      .footer-link {
        color: var(--text-muted);
        font-size: 0.875rem;
        text-decoration: none;
        transition: color 0.2s ease;
      }

      .footer-link:hover {
        color: var(--color-primary);
      }

      /* Order Success Modal */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.75);
        z-index: 100;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease;
      }

      .modal-overlay.active {
        display: flex;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .modal-content {
        background-color: var(--bg-card);
        border-radius: var(--radius-xl);
        padding: 2rem;
        max-width: 400px;
        width: 90%;
        text-align: center;
        animation: slideUp 0.4s ease;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      }

      @keyframes slideUp {
        from {
          transform: translateY(50px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .success-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 1.5rem;
        border-radius: 50%;
        background-color: rgba(17, 212, 66, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        animation: scaleIn 0.5s ease 0.2s both;
      }

      @keyframes scaleIn {
        from {
          transform: scale(0);
        }
        to {
          transform: scale(1);
        }
      }

      .success-icon .material-symbols-outlined {
        font-size: 3rem;
        color: var(--color-primary);
        animation: checkmark 0.6s ease 0.4s both;
      }

      @keyframes checkmark {
        0% {
          transform: scale(0) rotate(-45deg);
          opacity: 0;
        }
        50% {
          transform: scale(1.2) rotate(10deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
          opacity: 1;
        }
      }

      .modal-content h2 {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: var(--text-main);
      }

      .modal-content p {
        color: var(--text-muted);
        margin-bottom: 1.5rem;
        font-size: 0.875rem;
      }

      .modal-buttons {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .btn-modal {
        padding: 0.75rem 1.5rem;
        border-radius: var(--radius-lg);
        font-weight: 700;
        font-size: 0.875rem;
        cursor: pointer;
        border: none;
        transition: all 0.2s ease;
      }

      .btn-modal-primary {
        background-color: var(--color-primary);
        color: var(--text-primary);
      }

      .btn-modal-primary:hover {
        background-color: var(--color-primary-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 6px -1px rgba(17, 212, 66, 0.3);
      }

      .btn-modal-secondary {
        background-color: transparent;
        color: var(--text-muted);
        border: 1px solid var(--border-default);
      }

      .btn-modal-secondary:hover {
        background-color: var(--bg-input);
        color: var(--text-main);
      }

      /* Confetti Animation */
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background-color: var(--color-primary);
        position: absolute;
        animation: confetti-fall 3s linear forwards;
        z-index: 101;
      }

      @keyframes confetti-fall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }

      /* Desktop Layout (lg breakpoint) */
      @media (min-width: 1024px) {
        .site-header {
          padding: 1rem 2.5rem;
        }

        .main-nav {
          display: flex;
        }

        .btn-menu {
          display: none;
        }

        .btn-login {
          display: inline-flex;
        }

        .content-wrapper {
          padding: 3rem 2.5rem;
        }

        .page-title {
          font-size: 2.25rem;
        }

        .cart-grid {
          grid-template-columns: repeat(12, minmax(0, 1fr));
          gap: 3rem;
        }

        .cart-items {
          grid-column: span 8 / span 8;
        }

        .column-headers {
          display: grid;
        }

        .cart-item {
          display: grid;
          grid-template-columns: repeat(12, minmax(0, 1fr));
          gap: 1rem;
          align-items: center;
        }

        .quantity-section {
          justify-content: center;
        }

        .price-section {
          flex-direction: column;
          justify-content: flex-end;
          align-items: flex-end;
          gap: 0.25rem;
        }

        .mobile-label {
          display: none;
        }

        .remove-text {
          display: inline;
        }

        .order-summary {
          grid-column: span 4 / span 4;
          position: sticky;
          top: 7rem;
        }

        .site-footer {
          padding: 2.5rem 2.5rem;
        }

        .footer-content {
          flex-direction: row;
        }
      }
    </style>
  </head>
  <body>
    <div class="page-wrapper">
      <!-- Header -->
      <header class="site-header">
        <div class="logo-section">
          <div class="logo-icon">
            <svg
              fill="none"
              viewbox="0 0 48 48"
              xmlns="http://www.w3.org/2000/svg">
              <path
                clip-rule="evenodd"
                d="M39.475 21.6262C40.358 21.4363 40.6863 21.5589 40.7581 21.5934C40.7876 21.655 40.8547 21.857 40.8082 22.3336C40.7408 23.0255 40.4502 24.0046 39.8572 25.2301C38.6799 27.6631 36.5085 30.6631 33.5858 33.5858C30.6631 36.5085 27.6632 38.6799 25.2301 39.8572C24.0046 40.4502 23.0255 40.7407 22.3336 40.8082C21.8571 40.8547 21.6551 40.7875 21.5934 40.7581C21.5589 40.6863 21.4363 40.358 21.6262 39.475C21.8562 38.4054 22.4689 36.9657 23.5038 35.2817C24.7575 33.2417 26.5497 30.9744 28.7621 28.762C30.9744 26.5497 33.2417 24.7574 35.2817 23.5037C36.9657 22.4689 38.4054 21.8562 39.475 21.6262ZM4.41189 29.2403L18.7597 43.5881C19.8813 44.7097 21.4027 44.9179 22.7217 44.7893C24.0585 44.659 25.5148 44.1631 26.9723 43.4579C29.9052 42.0387 33.2618 39.5667 36.4142 36.4142C39.5667 33.2618 42.0387 29.9052 43.4579 26.9723C44.1631 25.5148 44.659 24.0585 44.7893 22.7217C44.9179 21.4027 44.7097 19.8813 43.5881 18.7597L29.2403 4.41187C27.8527 3.02428 25.8765 3.02573 24.2861 3.36776C22.6081 3.72863 20.7334 4.58419 18.8396 5.74801C16.4978 7.18716 13.9881 9.18353 11.5858 11.5858C9.18354 13.988 7.18717 16.4978 5.74802 18.8396C4.58421 20.7334 3.72865 22.6081 3.36778 24.2861C3.02574 25.8765 3.02429 27.8527 4.41189 29.2403Z"
                fill="currentColor"
                fill-rule="evenodd"></path>
            </svg>
          </div>
          <h2 class="brand-name">JAMAICA OUTDOORS</h2>
        </div>

        <nav class="main-nav">
          <a class="nav-link" href="/shop.html">Shop</a>
          <a class="nav-link" href="#">About</a>
          <a class="nav-link active" href="#">Cart</a>
          <a class="nav-link " href="/contact.html">contact us</a>

        </nav>

      </header>

      <div class="layout-container">
        <div class="content-wrapper">
          <div class="layout-content">
            <!-- Page Heading -->
            <div class="page-header">
              <h1 class="page-title" id="cart-title">Your Cart (0 items)</h1>
              <div class="shipping-notice">
                <span class="material-symbols-outlined">local_shipping</span>
                <p class="shipping-text">
                  You are <span id="free-shipping-amount">$0</span> away from
                  <span class="highlight">Free Shipping</span>
                </p>
              </div>
            </div>

            <!-- Main Grid Layout -->
            <div class="cart-grid">
              <!-- Left Column: Cart Items -->
              <div class="cart-items">
                <!-- Header Row for Desktop -->
                <div class="column-headers">
                  <div class="col-header-product">Product</div>
                  <div class="col-header-qty">Quantity</div>
                  <div class="col-header-price">Price</div>
                </div>

                <!-- Cart items will be dynamically inserted here -->
                <div id="cart-items-container"></div>

                <div>
                  <a class="continue-shopping" href="shop.html">
                    <span class="material-symbols-outlined">arrow_forward</span>
                    Continue Shopping
                  </a>
                </div>
              </div>

              <!-- Right Column: Order Summary -->
              <div class="order-summary">
                <div class="summary-card">
                  <h2 class="summary-title">Order Summary</h2>

                  <div
                    style="
                      display: flex;
                      flex-direction: column;
                      gap: 1rem;
                      margin-bottom: 1.5rem;
                    ">
                    <div class="summary-row">
                      <span>Subtotal</span>
                      <span id="subtotal">$0.00</span>
                    </div>
                    <div class="summary-row italic">
                      <span>Shipping Estimate</span>
                      <span>Calculated at checkout</span>
                    </div>
                    <div class="summary-row">
                      <span>Tax Estimate</span>
                      <span id="tax">$0.00</span>
                    </div>
                  </div>

                  <div class="summary-divider">
                    <div class="total-row">
                      <span>Total</span>
                      <span class="total-price" id="total">$0.00</span>
                    </div>
                  </div>

                  <div style="display: flex; flex-direction: column; gap: 1rem">
                    <div class="promo-row">
                      <input
                        class="promo-input"
                        placeholder="Promo code"
                        type="text" />
                      <button class="btn btn-apply">Apply</button>
                    </div>

                    <button
                      class="btn-checkout"
                      onclick="showCheckoutConfirm()">
                      <span class="material-symbols-outlined">lock</span>
                      Proceed to Checkout
                    </button>
                  </div>

                  <div class="secure-badge">
                    <div class="secure-row">
                      <span class="material-symbols-outlined"
                        >verified_user</span
                      >
                      <span>Secure Checkout</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Minimal Footer -->
      <footer class="site-footer">
        <div class="footer-content">
          <p class="footer-text">Â© 2024 Jamaica Outdoors. One Love.</p>
          <div class="footer-links">
            <a class="footer-link" href="#">Privacy Policy</a>
            <a class="footer-link" href="#">Terms of Service</a>
            <a class="footer-link" href="#">Returns</a>
          </div>
        </div>
      </footer>
    </div>

    <!-- Checkout Confirmation Modal -->
    <div class="modal-overlay" id="confirmModal">
      <div class="modal-content">
        <div
          class="success-icon"
          style="background-color: rgba(239, 68, 68, 0.1)">
          <span
            class="material-symbols-outlined"
            style="color: #ef4444; animation: none"
            >help</span
          >
        </div>
        <h2>Ready to Checkout?</h2>
        <p>Are you sure you want to proceed with your order?</p>
        <div class="modal-buttons">
          <button
            class="btn-modal btn-modal-primary"
            onclick="confirmCheckout()">
            Yes, Place Order
          </button>
          <button class="btn-modal btn-modal-secondary" onclick="closeModal()">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Order Success Modal -->
    <div class="modal-overlay" id="successModal">
      <div class="modal-content">
        <div class="success-icon">
          <span class="material-symbols-outlined">check_circle</span>
        </div>
        <h2>Order Placed Successfully!</h2>
        <p>
          Your order has been confirmed. We'll send you a confirmation email
          shortly.
        </p>
        <div class="modal-buttons">
          <button
            class="btn-modal btn-modal-primary"
            onclick="continueShopping()">
            Continue Shopping
          </button>
          <button
            class="btn-modal btn-modal-secondary"
            onclick="closeSuccessModal()">
            View Orders
          </button>
        </div>
      </div>
    </div>

    <script>
      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyAwm42JZyLpUFx4zfBmKJg3JZXktHI6fVQ",
        authDomain: "shop-22e92.firebaseapp.com",
        projectId: "shop-22e92",
        storageBucket: "shop-22e92.appspot.com",
        messagingSenderId: "889317583509",
        appId: "1:889317583509:web:d031502fca199e8a18c99c",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();

      let cartItems = [];

      // Load cart items from Firestore
      async function loadCartItems() {
        try {
          const snapshot = await db
            .collection("cart")
            .orderBy("addedAt", "desc")
            .get();
          cartItems = [];

          snapshot.forEach((doc) => {
            cartItems.push({
              id: doc.id,
              ...doc.data(),
              quantity: 1,
            });
          });

          renderCart();
        } catch (error) {
          console.error("Error loading cart:", error);
          showEmptyCart();
        }
      }

      // Render cart items
      function renderCart() {
        const container = document.getElementById("cart-items-container");

        if (cartItems.length === 0) {
          showEmptyCart();
          return;
        }

        container.innerHTML = "";

        cartItems.forEach((item, index) => {
          const cartItemDiv = document.createElement("div");
          cartItemDiv.className = "cart-item";
          cartItemDiv.innerHTML = `
            <div class="product-info">
              <div
                class="product-image"
                style="background-image: url('${item.image}');"></div>
              <div class="product-details">
                <h3 class="product-name">${item.name}</h3>
                <p class="product-variant">${item.category}</p>
                <span class="stock-badge in-stock">In Stock</span>
              </div>
            </div>

            <div class="quantity-section">
              <span class="mobile-label">Qty:</span>
              <div class="quantity-control">
                <button class="qty-btn" onclick="updateQuantity(${index}, -1)">
                  <span class="material-symbols-outlined" style="font-size: 1rem">remove</span>
                </button>
                <input
                  class="qty-input"
                  min="1"
                  type="number"
                  value="${item.quantity}"
                  onchange="setQuantity(${index}, this.value)" />
                <button class="qty-btn" onclick="updateQuantity(${index}, 1)">
                  <span class="material-symbols-outlined" style="font-size: 1rem">add</span>
                </button>
              </div>
            </div>

            <div class="price-section">
              <span class="mobile-label">Price:</span>
              <p class="price">$${(item.price * item.quantity).toFixed(2)}</p>
              <button class="btn btn-remove" onclick="removeItem('${item.id}', '${item.name}')">
                <span class="material-symbols-outlined">delete</span>
                <span class="remove-text">Remove</span>
              </button>
            </div>
          `;

          container.appendChild(cartItemDiv);
        });

        updateSummary();
      }

      // Show empty cart state
      function showEmptyCart() {
        const container = document.getElementById("cart-items-container");
        container.innerHTML = `
          <div class="empty-cart">
            <span class="material-symbols-outlined">shopping_cart</span>
            <h2>Your cart is empty</h2>
            <p>Add some items to get started!</p>
          </div>
        `;
        document.getElementById("cart-title").textContent =
          "Your Cart (0 items)";
        updateSummary();
      }

      // Update quantity
      function updateQuantity(index, change) {
        cartItems[index].quantity = Math.max(
          1,
          cartItems[index].quantity + change,
        );
        renderCart();
      }

      // Set quantity directly
      function setQuantity(index, value) {
        const qty = parseInt(value);
        if (qty > 0) {
          cartItems[index].quantity = qty;
          renderCart();
        }
      }

      // Remove item from cart
      async function removeItem(itemId, itemName) {
        const confirmRemove = confirm(`Remove "${itemName}" from cart?`);
        if (!confirmRemove) return;

        try {
          await db.collection("cart").doc(itemId).delete();
          alert(`"${itemName}" removed from cart`);
          await loadCartItems();
        } catch (error) {
          console.error("Error removing item:", error);
          alert("Failed to remove item. Please try again.");
        }
      }

      // Update order summary
      function updateSummary() {
        const subtotal = cartItems.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0,
        );
        const tax = subtotal * 0.08; // 8% tax
        const total = subtotal + tax;
        const freeShippingThreshold = 100;
        const amountToFreeShipping = Math.max(
          0,
          freeShippingThreshold - subtotal,
        );

        document.getElementById("cart-title").textContent =
          `Your Cart (${cartItems.length} items)`;
        document.getElementById("subtotal").textContent =
          `$${subtotal.toFixed(2)}`;
        document.getElementById("tax").textContent = `$${tax.toFixed(2)}`;
        document.getElementById("total").textContent = `$${total.toFixed(2)}`;
        document.getElementById("free-shipping-amount").textContent =
          `$${amountToFreeShipping.toFixed(2)}`;
      }

      // Load cart on page load
      loadCartItems();

      // Modal Functions
      function showCheckoutConfirm() {
        if (cartItems.length === 0) {
          alert("Your cart is empty!");
          return;
        }
        document.getElementById("confirmModal").classList.add("active");
      }

      function closeModal() {
        document.getElementById("confirmModal").classList.remove("active");
      }

      function closeSuccessModal() {
        document.getElementById("successModal").classList.remove("active");
        window.location.href = "shop.html";
      }

      function continueShopping() {
        window.location.href = "shop.html";
      }

      // Confirm checkout and show success
      async function confirmCheckout() {
        closeModal();

        // Create confetti effect
        createConfetti();

        // Show success modal after a brief delay
        setTimeout(() => {
          document.getElementById("successModal").classList.add("active");
        }, 300);

        // Clear the cart in Firebase
        try {
          const batch = db.batch();
          cartItems.forEach((item) => {
            const docRef = db.collection("cart").doc(item.id);
            batch.delete(docRef);
          });
          await batch.commit();

          // Clear local cart
          cartItems = [];
        } catch (error) {
          console.error("Error clearing cart:", error);
        }
      }

      // Create confetti animation
      function createConfetti() {
        const colors = [
          "#11d442",
          "#10c23d",
          "#0fb83a",
          "#FFD700",
          "#FF6B6B",
          "#4ECDC4",
        ];
        const confettiCount = 50;

        for (let i = 0; i < confettiCount; i++) {
          setTimeout(() => {
            const confetti = document.createElement("div");
            confetti.className = "confetti";
            confetti.style.left = Math.random() * 100 + "%";
            confetti.style.backgroundColor =
              colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 0.5 + "s";
            confetti.style.animationDuration = Math.random() * 2 + 2 + "s";
            document.body.appendChild(confetti);

            setTimeout(() => {
              confetti.remove();
            }, 4000);
          }, i * 30);
        }
      }

      // Close modals when clicking outside
      window.onclick = function (event) {
        const confirmModal = document.getElementById("confirmModal");
        const successModal = document.getElementById("successModal");

        if (event.target === confirmModal) {
          closeModal();
        }
        if (event.target === successModal) {
          closeSuccessModal();
        }
      };
    </script>
  </body>
</html>
